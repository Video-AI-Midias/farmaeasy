# =============================================================================
# FarmaEasy API Upstream - Blue/Green Deployment
# =============================================================================
# ARQUIVO GERENCIADO PELO SCRIPT blue-green-deploy.sh
# NÃO EDITE MANUALMENTE - Use: ./blue-green-deploy.sh update-nginx [blue|green]
#
# Este arquivo é sincronizado para: /etc/nginx/conf.d/farmaeasy-upstream.conf
#
# Portas:
#   - Blue  = 8001
#   - Green = 8002
#
# IMPORTANTE: O script blue-green-deploy.sh atualiza este arquivo automaticamente
# durante o deploy para alternar entre blue/green.
#
# Sites que usam este upstream:
#   - api.farmaeasy.com.br
#   - treinamento.farmaeasy.com.br
# =============================================================================

upstream farmaeasy_api {
    server 127.0.0.1:8001;          # Blue - primary (default for first deploy)
    server 127.0.0.1:8002 backup;   # Green - backup
    keepalive 32;
}

# ==============================================================================
# FarmaEasy API - Environment Variables
# ==============================================================================
# Copy this file to .env and configure for your environment
# cp .env.example .env
# ==============================================================================

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
APP_NAME=farmaeasy
APP_VERSION=0.1.0
# Options: development | staging | production | testing
ENVIRONMENT=development
DEBUG=true

# ------------------------------------------------------------------------------
# API Server
# ------------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true

# ------------------------------------------------------------------------------
# Security
# ------------------------------------------------------------------------------
# IMPORTANT: Change this in production!
SECRET_KEY=change-me-in-production-with-a-secure-32-char-key!
TRUSTED_HOSTS=["localhost","127.0.0.1"]

# ------------------------------------------------------------------------------
# Redis
# ------------------------------------------------------------------------------
# Development (local): redis://localhost:6381/0
# Production (Docker): redis://farmaeasy-redis-prod:6379/0
REDIS_URL=redis://localhost:6381/0
REDIS_MAX_CONNECTIONS=10
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# ------------------------------------------------------------------------------
# Cassandra
# ------------------------------------------------------------------------------
# Development (local): ["localhost"] port 9044
# Production (Docker): ["farmaeasy-cassandra-prod"] port 9042
CASSANDRA_HOSTS=["localhost"]
CASSANDRA_PORT=9044
CASSANDRA_KEYSPACE=farmaeasy
# CASSANDRA_USERNAME=cassandra
# CASSANDRA_PASSWORD=cassandra
CASSANDRA_PROTOCOL_VERSION=4
CASSANDRA_CONNECT_TIMEOUT=10.0
CASSANDRA_REQUEST_TIMEOUT=10.0

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# LOG_LEVEL options: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=DEBUG
# LOG_FORMAT options: json | console
LOG_FORMAT=console
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_CALLER_INFO=true
LOG_INCLUDE_STACK_INFO=true

# ------------------------------------------------------------------------------
# CORS
# ------------------------------------------------------------------------------
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]
CORS_MAX_AGE=600

# ------------------------------------------------------------------------------
# Compression
# ------------------------------------------------------------------------------
COMPRESSION_ENABLED=true
COMPRESSION_MINIMUM_SIZE=500
COMPRESSION_GZIP_LEVEL=6
COMPRESSION_BROTLI_QUALITY=4
COMPRESSION_ZSTD_LEVEL=4

# ------------------------------------------------------------------------------
# Bunny.net Stream (Video Hosting)
# ------------------------------------------------------------------------------
# IMPORTANT: Keep BUNNY_TOKEN_KEY secret! Never expose in frontend!
BUNNY_LIBRARY_ID=
BUNNY_CDN_HOSTNAME=
BUNNY_TOKEN_KEY=
BUNNY_TOKEN_EXPIRY_SECONDS=14400

# ------------------------------------------------------------------------------
# Firebase Storage (Thumbnail Uploads)
# ------------------------------------------------------------------------------
# Uses IndoorTec's Firebase project for storage
FIREBASE_ENABLED=true
FIREBASE_CREDENTIALS_PATH=firebase-credentials.json
FIREBASE_STORAGE_BUCKET=video-ai-bae31.appspot.com
FIREBASE_PROJECT_ID=video-ai-bae31

# ------------------------------------------------------------------------------
# Upload Settings
# ------------------------------------------------------------------------------
UPLOAD_MAX_FILE_SIZE_MB=10
UPLOAD_ALLOWED_IMAGE_TYPES=["image/jpeg","image/png","image/webp","image/gif"]
UPLOAD_RATE_LIMIT_PER_MINUTE=30
